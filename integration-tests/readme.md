# integration tests

This folder contains a `test.js` file that provides a test runner, and a series
of directories that provide fixtures.

The components are stored in a structure like this:

```text
├── names-arent-the-same
│   ├── component
│   │   ├── bower.json
│   │   ├── origami.json
│   │   └── package.json
│   │   github
│   └── model.json
```

## github file
The `github` file contains a structure the same as what is created by the
parse functions in test.js, e.g.:

```conf
warning bower.json 4 17 non-o-prefix
error origami.json 22 22 demo-template-not-found
```

The file will be sorted asciibetically before being compared as an array of lines.

## model.json file

The `model.json` file contains the entire component model.

In the test runner, we execute the cli on each of the `test-name/component`
directories, and create a [tap](https://node-tap.org/) test for each one,
checking that the parsed github output matches the `github.json` file and that
the model matches the `model.json` file.

## creating tests

The `github` files are expected to be written by hand, so that you're being
thoughtful and will catch things that aren't right.

The `model.json` file can be generated by running `node
. integration-tests/my-test/component model >
integration-tests/my-test/model.json` in the root of the
origami-component-manifest-linter project.
